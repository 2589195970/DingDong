<!doctype html>
<html lang="zh-cn">

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>官方包邮</title>
	<!-- <link rel="shortcut icon" type="image/x-icon" href="./img/log.png" /> -->
	<link rel="stylesheet" href="./css/vant@2.9.min.css" />
	<link rel="stylesheet" href="./css/from.css">
	<script src="./js/vue.js"></script>
	<script src="./js/vant.js"></script>
	<link rel="stylesheet" href="./index.css">
</head>

<body>
	<div id="app">
		<div v-if="xianshi=='0'">
			<div style="position: relative;">
				<img src="./img/4.png" style="width: 100%;">
			</div>
			<div class="jies">
				<div style="display: flex;
			flex-direction: row;
			width: 100%;
			justify-content: flex-start;
			border-bottom: 1px solid #F8F8F8;
			padding-bottom: 10px;">
					<div style="width: 60px; margin: 0 20px;">
						<img src="./img/h1.png" alt="" style="width: 100%;">
					</div>
					<div>
						<p style="font-size: 20px; font-weight: 700; margin: 5px 0;">三网大流量卡</p>
						<p style="color: #666;font-size: 14px;">三大运营商授权|官方正品保障</p>
						<P style="color: #666;font-size: 14px;">店铺口碑分4.99  ⭐⭐⭐⭐⭐</P>
					</div>
				</div>
				<div style="display: flex;width: 100%;justify-content: space-around;">
					<a href="http://duotest.weibu.vip/h5/query">
						<div style="text-align: center;">
							<p class="fx">
								<van-icon name="search" />
							</p>
							<p class="fx1">名下电话卡</p>
						</div>
					</a>
					<div style="text-align: center;" @click="orderdata">
						<p class="fx">
							<van-icon name="records" />
						</p>
						<p class="fx1">查询订单</p>
					</div>
					<a href="https://work.weixin.qq.com/kfid/kfcf856088b08cab7ad">
						<div style="text-align: center; ">
							<p class="fx">
								<van-icon name="service" />
							</p>
							<p class="fx1">在线客服</p>
						</div>
					</a>
					<div style="text-align: center;" @click="shareStore">
						<p class="fx">
							<van-icon name="share" />
						</p>
						<p class="fx1">分享店铺</p>
					</div>
				</div>

			</div>
			<div class="carousel">
				<div class="carousel-inner">
					<div class="carousel-item">
						<img src="./img/2.jpg" alt="Slide 1">
					</div>
					<div class="carousel-item">
						<img src="./img/1.png" alt="Slide 2">
					</div>
					<div class="carousel-item">
						<img src="./img/5.png" alt="Slide 3">
					</div>
				</div>
				<div class="carousel-indicators"></div>
			</div>
			<div class="kflexc" style="padding: 25px 0px 10px;">
				<div v-for="(item, index) in items" :key="index" class="li" :class="{ liact: activeIndex === index }"
					@click="selectItem(index)">
					{{ item }}
				</div>
			</div>
			<div style="display: flex;justify-content: center;flex-direction: column;">
				<ul style="border: 1px solid #666; border-radius: 10px; margin: 5px 10px;" v-for="dict in productList"
					:key="dict.productCode">
					<li class="commodity" style="display: flex; flex-wrap: nowrap;" bindtap="gotoPage">
						<!-- <div class="paimin">{{dict.index}}</div> -->
						<div class="imgtup2">
							<image :src="dict.productMasterMap" class="imgtup1"></image>
						</div>
						<div class="imgtup">
							<div class="textwz">{{dict.productName}}</div>
							<div style="display: flex;">
								<div style="flex: 1 1 0%; line-height: 0.6rem;">
									<div
										style="color: rgb(51, 51, 51);height: 20px; font-size: 14px; font-weight: bold;">
										{{dict.productTyll}}GB</div>
									<div style="color: rgb(153, 153, 153); font-size: 14px;">通用流量</div>
								</div>
								<div style="flex: 1 1 0%; line-height: 0.6rem;">
									<div
										style="color: rgb(51, 51, 51); font-size: 14px; height: 20px; font-weight: bold;">
										{{dict.productDxll}}GB</div>
									<div style="color: rgb(153, 153, 153); font-size: 14px;">定向流量</div>
								</div>
								<div style="flex: 1 1 0%; line-height: 0.6rem;">
									<div
										style="color: rgb(51, 51, 51); font-size: 14px; height: 20px; font-weight: bold;">
										{{dict.productThfz}}分钟</div>
									<div style="color: rgb(153, 153, 153); font-size: 14px;">通话分钟</div>
								</div>
							</div>
							<!-- <div style="font-size: 12px;" class="textwz">{{dict.productGsdq}}</div> -->
							<span style="font-size: 12px;" class="textwz">{{dict.productFafs}}</span>
							<!-- <div style="font-size: 12px;" class="textwz">{{dict.productHyqx}}</div> -->
							<div style="font-size: 12px; color: #599FE0; display: flex; justify-content: space-between;"
								class="textwz">
								<div>
									<div>{{dict.productScsm}}</div>
								</div>
								<button
									style="width: 120px; height: 30px; font-size: 14px; background-color: red;color: #fff;border-radius: 23px;float: right;"
									@click="Receive(dict.h5Url)">免费领取</button>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div class="container" v-if="xianshi=='1'">
			<img src="./img/ordertitle.png" alt="" style="width: 100%; height: auto;">
			<div class="search-form">
				<input type="text" class="search-input" id="phone" placeholder="请输入手机号" v-model="phone">
				<input type="text" class="search-input" id="idCard" placeholder="请输入身份证号" v-model="certId">
			</div>
			<button class="search-button" @click="search">查询</button>
		</div>

		<div v-if="xianshi=='2'">
			<h3
				style="color: #fff; background-color: #007bff; height: 50px; text-align: center; line-height: 50px; margin: 0;">
				订单信息
			</h3>
			<div v-if="ddxx==[]">暂无订单信息</div>
			<div v-else id="resultTable" v-for="order in ddxx" :key="order.orderId">
				<div class="orderinfonav">
					<div class="ordertitle01">
						<div class="ordertitleright" @click="xiangxidingdan(order)">
							<a class="orderfail" v-if="order.orderStatus === -1">已撤单</a>
							<a class="orderfail" v-if="order.orderStatus === 1"
								style="background-color: red;color: #ffff;">下单成功</a>
							<a class="orderfail" v-if="order.orderStatus === 2"
								style="background-color: rebeccapurple;color: #ffff;">已发货</a>
							<a class="orderfail" v-if="order.orderStatus === 4"
								style="background-color: #007bff;color: #ffff;">已激活</a>
						</div>
						<div class="ordertitleleft" style="display: flex;">
							<img src="./img/order_icon01.png" />
							<span v-if="order.operatorType==0"
								style="font-size: 0.6rem;color: red; font-weight: 700;">移动</span>
							<span v-if="order.operatorType==1"
								style="font-size: 0.6rem;color: red; font-weight: 700;">电信</span>
							<span v-if="order.operatorType==2"
								style="font-size: 0.6rem;color: red; font-weight: 700;">联通</span>
						</div>
						<div class="clear">
							<span>下单时间: {{timestampToDateString(order.createTime)}}</span>
							<br>
							<span>订单编号：{{order.orderId}}</span>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div v-if="xianshi=='3'">
			<h3
				style="color: #fff; background-color: #007bff; height: 50px; text-align: center; line-height: 50px; margin: 0;">
				订单信息
			</h3>
			<div class="orderjh">请在号卡发货起20天内激活，超时未开通号卡将自动销户，请您尽快完成激活认证，开启新体验哦！</div>
			<div class="orderinfonav topnum">
				<div class="ordertitle01 topline">
					<div class="ordertitleright">
						<a class="orderfail" v-if="ddxx1.orderStatus === -1">已撤单</a>
						<a class="orderfail" v-if="ddxx1.orderStatus === 1"
							style="background-color: red;color: #ffff;">成功</a>
						<a class="orderfail" v-if="ddxx1.orderStatus === 2"
							style="background-color: rebeccapurple;color: #ffff;">发货</a>
						<a class="orderfail" v-if="ddxx1.orderStatus === 4"
							style="background-color: #007bff; color: #ffff;">激活</a>
					</div>
					<div class="ordertitleleft" style="display: flex;">
						<img src="./img/order_icon01.png">
						<span v-if="ddxx1.operatorType==0"
							style="font-size: 0.6rem;color: red; font-weight: 700;">移动</span>
						<span v-if="ddxx1.operatorType==1"
							style="font-size: 0.6rem;color: red; font-weight: 700;">电信</span>
						<span v-if="ddxx1.operatorType==2"
							style="font-size: 0.6rem;color: red; font-weight: 700;">联通</span>
					</div>
					<div class="clear"></div>
				</div>
				<ul>
					<li>下单时间：{{timestampToDateString(ddxx1.createTime)}}</li>
					<li>订单编号：{{ddxx1.orderId}}</li>
					<!-- <li>联系号码：15695288139</li> -->
					<li>收货地址：{{ ddxx1.provinceName }}{{ ddxx1.cityName }}{{ ddxx1.countyName }} {{ ddxx1.cardAddress }}
					</li>
					<li>物流单号： {{ddxx1.trackingNumber}}</li>
				</ul>
			</div>
			<p class="float">注：”重新选号”成功后将为您再生成一张订单，但由于原订单已经生成，系统无法取消，会正常派送，如果您实在不满意原订单号码，请您告知快递小哥，拒签快递。新号码收到后，一定要进行激活操作
			</p>
		</div>
		
		<van-popup v-model="shareStoreopon" class="success-popup" :close-on-click-overlay="false"
			:overlay-style="{ backgroundColor: 'rgba(0,0,0,.5)' }" :closeable="true">
			<div class="success-modal-con">
				<!-- <van-icon class="icon" name="close" @click="shareStoreopon=false" /> -->
				<div class="success-modal1">
					<img :src="ShopQrcodeMap" alt="" style="width: 100%;">
				</div>
				<div @click="downloadImage" class="baoc">保存图片</div>
			</div>
		</van-popup>
	</div>
</body>
<script src="./js/axios.js"></script>
<script src="./js/util.js"></script>
<script src="./js/area.js"></script>
<script type="text/javascript" src="./index.js"></script>
<script>
	class Carousel {
		constructor(container) {
			this.container = container;
			this.inner = container.querySelector('.carousel-inner');
			this.items = container.querySelectorAll('.carousel-item');
			this.currentIndex = 0;
			this.autoPlayInterval = null;

			// 初始化
			this.initIndicators();
			// this.addEventListeners();
			this.startAutoPlay();
		}

		// 初始化指示器
		initIndicators() {
			const indicatorsContainer = this.container.querySelector('.carousel-indicators');
			this.items.forEach((_, index) => {
				const indicator = document.createElement('button');
				indicator.className = 'indicator' + (index === 0 ? ' active' : '');
				indicator.addEventListener('click', () => this.goTo(index));
				indicatorsContainer.appendChild(indicator);
			});
		}

		// 切换幻灯片
		goTo(index) {
			this.currentIndex = (index + this.items.length) % this.items.length;
			this.inner.style.transform = `translateX(-${this.currentIndex * 100}%)`;
			this.updateIndicators();
		}

		// 更新指示器状态
		updateIndicators() {
			this.container.querySelectorAll('.indicator').forEach((indicator, index) => {
				indicator.classList.toggle('active', index === this.currentIndex);
			});
		}

		// // 添加事件监听
		// addEventListeners() {
		// 	this.container.querySelector('.prev').addEventListener('click', () => this.prev());
		// 	this.container.querySelector('.next').addEventListener('click', () => this.next());

		// 	// 鼠标悬停暂停自动播放
		// 	this.container.addEventListener('mouseenter', () => this.stopAutoPlay());
		// 	this.container.addEventListener('mouseleave', () => this.startAutoPlay());
		// }

		prev() {
			this.goTo(this.currentIndex - 1);
		}

		next() {
			this.goTo(this.currentIndex + 1);
		}

		// 自动播放控制
		startAutoPlay() {
			if (!this.autoPlayInterval) {
				this.autoPlayInterval = setInterval(() => this.next(), 3000);
			}
		}

		stopAutoPlay() {
			clearInterval(this.autoPlayInterval);
			this.autoPlayInterval = null;
		}
	}

	// 初始化轮播图
	const carousel = new Carousel(document.querySelector('.carousel'));
</script>

</html>